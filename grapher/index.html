<html>
  <head>
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['corechart']});
      google.charts.setOnLoadCallback(drawChart);
      
      let timer = 0
      // to lazy to write code to load from json, so just copy pasting values from targetFile
      let rawData = [88,91,94,95,98,101,102,107,111,112,114,115,118,119,120,121,122,124,126,129,137,137,138,139,140,141,145,146,150,152,153,152,154,153,154,155,154,153,152,150,149,147,145,144,143,142,140,139,138,137,136,135,133,131,130,129,127,126,125,127,126,123,122,120,118,117,114,115,117,120,120,121,122,123,126,128,130,132,135,137,140,142,144,146,149,150,151,152,151,150,149,147,146,145,146,147,149,150,152,153,155,157,159,160,161,162,163,164,165,166,167,168,169,168,169,170,171,172,173,174,175,176,177,176,175,176,175,176,177,178,177,176,172,171,169,166,165,164,162,161,160,158,159,160,161,162,163,164,165,166,165,164,163,164,163,164,163,164,165,166,167,166,166,167,168,169,170,171,172,173,174,175,176,175,174,175,176,177,178,179,178,177,178,176,174,171,169,167,165,163,164,163,162,160,159,158,157,156,155,154,153,154,155,154,152,151,150,149,148,146,145,144,143,142,141,140,139,140,142,143,144,145,146,147,148,149,148,147,145,144,145,146,147,148,150,151,150,149,148,149,150,151,153,154,156,157,159,160,161,162,161,162,161,162,163,164,165,166,167,166,165,164,163,162,161,160,159,157,156,155,154,153,152,150,149,148,146,147,146,144,142,141,139,138,136,135,134,133,131,130,131,132,133,132,131,129,128,127,126,125,124,123,124,123,122,121,120,118,118,117,118,119,120,121,120,118,117,118,119,120,121,122,121,120,121,120,119,120,121,122,123,124,126,127,126,124,120,118,116,115,114,113,111,110,109,110,109,108,107,108,109,110,111,112,113,112,111,111,112,113,114,115,116,117,116,115,114,113,112,111,110,109,108,109,108,107,108,109,108,109,110,110,111,112,111,110,111,112,113,114,115,116,115,114,113,114,113,113,114,113,112,113,112,113,112,110,109,108,106,105,104,105,106,107,108,108,107,108,109,110,111,110,109,108,107,108,109,110,109,110,111,112,113,112,112,111,112,113,115,116,115,114,113,112,113,115,115,116,115,114,113,112,111,112,113,114,115,116,117,118,119,118,117,116,117,116,117,116,117,116,117,116,115,114,115,114,114,113,112,110,109,108,109,110,110,111,113,115,116,117,116,115,116,115,116,115,115,116,117,118,119,118,117,116,115,114,113,114,115,115,110,107,106,105,106,107,106,105,103,101,100,99,100,102,103,104,105,106,107,108,107,106,104,103,102,101,102]
      
      

      function drawChart() {
        // build datatable
        var data = new google.visualization.DataTable();
        data.addColumn('number', 'Seconds');
        data.addColumn('number', 'HR');
        data.addColumn({type:'string', role:'annotation'})
        for (let index = 0; index < timer && index < rawData.length; index++) {
          const annotationText = `HR: ${rawData[index].toString()}`;
          const annotation = index+1 === timer ? annotationText : null;
          data.addRow([index, rawData[index],annotation]);
        }

        var options = {
          width: 800,
          height: 240,
          vAxis: {minValue:0, maxValue:200, title: 'HR'},
          hAxis: {minValue:0, maxValue:timer + 60, title: 'Seconds Elapsed',},
          animation: {
            duration:1000000,
            easing: 'in'
          },
          annotations: {
            textStyle: {
              fontSize: 18,
              bold: true,
              // The transparency of the text.
              opacity: 0.8
            }
          }
        };

        var chart = new google.visualization.LineChart(document.getElementById('curve_chart'));

        chart.draw(data, options);
      }
      let t = 0;

      const myInterval = setInterval(
        function(){
          t++;
          console.log(t);
          if(timer < rawData.length){
            timer += 1;
          }
          else {
            clearInterval(myInterval);
          }
        drawChart();
        }, 16
      );


      

    </script>
  </head>
  <body>
    <div id="curve_chart" style="width: 900px; height: 500px"></div>
  </body>
</html>